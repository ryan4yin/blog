<rss xmlns:atom="http://www.w3.org/2005/Atom" xmlns:dc="http://purl.org/dc/elements/1.1/" version="2.0"><channel><title>All Posts - Ryan4Yin's Space</title><link>https://ryan4yin.space/en/posts/</link><description>All Posts | Ryan4Yin's Space</description><generator>Hugo -- gohugo.io</generator><language>en</language><managingEditor>xiaoyin_c@qq.com (ryan4yin)</managingEditor><webMaster>xiaoyin_c@qq.com (ryan4yin)</webMaster><lastBuildDate>Sun, 23 Jan 2022 01:40:00 +0800</lastBuildDate><atom:link href="https://ryan4yin.space/en/posts/" rel="self" type="application/rss+xml"/><item><title>Summary of My 2021</title><link>https://ryan4yin.space/en/posts/2021-summary/</link><pubDate>Sun, 23 Jan 2022 01:40:00 +0800</pubDate><author>xiaoyin_c@qq.com</author><dc:creator>ryan4yin</dc:creator><guid>https://ryan4yin.space/en/posts/2021-summary/</guid><description><![CDATA[<blockquote>
<p>In Translating&hellip;</p>
</blockquote>
<h2 id="gossip">Gossip</h2>
<p>Another year has passed in the twinkling of an eye, and this New year, the global epidemic has set a new record. After Christmas, the daily increase in the United States has directly exceeded 1 million. In China, poor management in Xi&rsquo;an has led to hunger.</p>
<p>COVID-19 has been for more than two years.</p>
<p>Back to the point, after leaving from W Company at the beginning of this year, I was very lucky to join the current company, Mobiuspace, and I was mixed in the process of integrating into Mobiuspace.
However, I am quite satisfied with the overall results, the current work has been on the right track, but also found a lot of opportunities.</p>
<h2 id="life">Life</h2>
<ul>
<li>In January, I set up this Blog, and I met <a href="https://chee5e.space/" target="_blank" rel="noopener noreferrer">@Cheese</a>，@Cheese helped me adjust the style of the &ldquo;Friends&rdquo; page, thanks him very much~</li>
<li>In February, I fired my boss, and then what to say? I suddenly felt open-minded and changed my mindset 180 degrees. It was great, but I was actually very worried about my shortcomings in all aspects. Anyway, I&rsquo;m in a complicated mood. I talked a lot with <a href="https://sanshiliuxiao.top/" target="_blank" rel="noopener noreferrer">@是格子啊</a>, <a href="https://chee5e.space/" target="_blank" rel="noopener noreferrer">@Cheese</a> and former colleagues). Thank you very much for helping me sort out my thoughts and giving me an affirmation. At the same time, I was recommended by <a href="https://chee5e.space/" target="_blank" rel="noopener noreferrer">@Cheese</a> and started using twitter.</li>
<li>I climbed the mountain every day to see the scenery, bought a hammock to take a nap in the park, practiced the harmonica and bamboo flute, and played like this for a month.
<ul>
<li></li>
</ul>
</li>
<li>In March, I started looking for a job. After meeting with several companies, I was very lucky to enter Mobiuspace and became a new SRE. The experience of a year in Mobiuspace is written in the &ldquo;work&rdquo; section, which is skipped here.</li>
<li>At the end of March, I watched the movie &ldquo;Raya and The Last Dragon&rdquo; (the only movie I watched in 2021), and the ending song was very good.</li>
<li>In April, by various coincidences, I unexpectedly found that my junior high school classmate&rsquo;s residence was less than one kilometer away from me. I had a meal of hometown food and bayberry wine at his house. It tasted very good!</li>
<li>In August, my two cousin came to Shenzhen for a summer internship. I crossed Shenzhen&rsquo;s east-west coastline with them. The scenery was great, but we were really hot and thirsty on the way.</li>
<li>In October
<ul>
<li>Joined Mobiuspace&rsquo;s surfing team, surfing and have a seaside barbecue for the first time.</li>
<li>Bought roller skates, learned reverse skating and step steering, and reviewed some basic skills learned in college.</li>
</ul>
</li>
<li>In December, Bought a YunMi RO Filterred Water Dispenser, and many kinds of tea. Currently I prefer to drink <strong>Black Tea</strong>, such as Dianhong - Yunnan Gold, Redsunion Keemun.
<ul>
<li><figure><a class="lightgallery" href="./yunmi-ro-filterred-water-dispenser.jpg" title="./yunmi-ro-filterred-water-dispenser.jpg" data-thumbnail="./yunmi-ro-filterred-water-dispenser.jpg" data-sub-html="<h2>YunMi RO Filterred Water Dispenser</h2>">
        
    </a><figcaption class="image-caption">YunMi RO Filterred Water Dispenser</figcaption>
    </figure></li>
<li><figure><a class="lightgallery" href="./my-tea.jpg" title="./my-tea.jpg" data-thumbnail="./my-tea.jpg" data-sub-html="<h2>All kinds of tea</h2>">
        
    </a><figcaption class="image-caption">All kinds of tea</figcaption>
    </figure></li>
</ul>
</li>
<li>In January 2022, I bought Anime PVC Figures for the first time. After putting these figures, I felt that my room was more youthful and colorful.
<ul>
<li><figure><a class="lightgallery" href="./Posts-and-Garage-Kit.jpg" title="./Posts-and-Garage-Kit.jpg" data-thumbnail="./Posts-and-Garage-Kit.jpg" data-sub-html="<h2>Anime PVC Figures and Anime Figure Painting in my room</h2>">
        
    </a><figcaption class="image-caption">Anime PVC Figures and Anime Figure Painting in my room</figcaption>
    </figure></li>
</ul>
</li>
</ul>
<h2 id="readings">Readings</h2>
<ul>
<li>After resigning at the beginning of the year, I went sightseeing, and my mind was a little more calm. I read more than half of the book &ldquo;From Lost to Found the Pacific Crest Trail&rdquo;.</li>
<li>In June, the community organized us to get vaccinated against COVID-19, I read the book &ldquo;Youth Post Station - A Portrait of Working Girls in Shenzhen&rdquo; in the waiting room, which is mainly about the lives of working girls in the 1980s and 1990s. The writing is very real and the feelings are very delicate.</li>
<li>At the end of the year, my second grandfather died. After attending the funeral, I vaguely found some profound changes in my mind. I finished reading &ldquo;Moon Palace&rdquo;, which tells the tragic life of the protagonist.</li>
<li>Most of the rest of my spare time, boring, do not want to learn anything, do not want to exercise, so I read a lot of web novels to pass the time.</li>
</ul>
<h2 id="music">Music</h2>
<p>After resigning at the beginning of the year, I practiced the bamboo flute and the blues harmonica for some time, but then it was basically silent after I got a job.</p>
<p>On the whole, I have made little progress this year.</p>
<p></p>
<h2 id="working---the-year-i-work-in-mobiuspace">Working - The year I work in Mobiuspace</h2>
<p>When I first joined Mobiuspace in March, I was curious, but I was so cautious that I couldn&rsquo;t believe I could get into such a great company. I felt like I was out of luck.
After all, Mobiuspace, whether it is the level of colleagues or the working atmosphere, or the number of customers, compared with my last company is qualitatively different.</p>
<p><figure><a class="lightgallery" href="./workstation-1.jpg" title="./workstation-1.jpg" data-thumbnail="./workstation-1.jpg" data-sub-html="<h2>My first station in Mobiuspace</h2>">
        
    </a><figcaption class="image-caption">My first station in Mobiuspace</figcaption>
    </figure></p>
<p>之后慢慢熟悉工作的内容与方法，leader 尽力把最匹配我兴趣的工作安排给我，帮我排疑解难，同时又给我极大的自主性，真的是棒极了。</p>
<p>然而自主性高带来的也是更高的工作难度，遇到困难时也曾手忙脚乱、迷茫、甚至自我怀疑，很担心是不是隔天就得跑路了&hellip;（是的我抗压能力有点弱）
但好在我终究还是能调节好心态，负起责任，一步步把工作完成。
中间有几次工作有延误时，leader 还陪我加班，事情干完后又带我去吃大餐犒劳自己，真的超级感谢他的帮助与支持。</p>
<p><figure><a class="lightgallery" href="./workstation-2.jpg" title="./workstation-2.jpg" data-thumbnail="./workstation-2.jpg" data-sub-html="<h2>换座位后的新工位，落地窗风景很棒</h2>">
        
    </a><figcaption class="image-caption">换座位后的新工位，落地窗风景很棒</figcaption>
    </figure></p>
<p>这样经历了几个项目的洗礼后，现在我终于能说自己是脚踏实地了，心态从「明天是不是得提桶跑路」转变成了「哇还有这个可以搞，那个 ROI 也很高，有好多有趣的事可以做啊」，我终于能说自己真正融入了大宇无限这家公司，成为了它的一员。</p>
<p>回看下了 2020 年的总结与展望，今年实际的进步，跟去年期望的差别很大。最初的目标大概只实现了 10%，但是接触到了许多意料之外的东西，总体还是满意的：</p>
<ul>
<li>熟悉了新公司的文化与工作方式，这感觉是个很大的收获，我的工作方式有了很大的改善</li>
<li>接触并且熟悉了新公司的 AWS 线上环境
<ul>
<li>负责维护线上 Kubernetes 管理平台，第一次接触到的线上集群峰值 QPS 就有好几万。从一开始的小心翼翼，到现在也转变成了老手，这算是意义重大吧</li>
<li>使用 python 写了几个 Kubernetes 管理平台的服务，这也是我第一次写线上服务，很有些成就感</li>
<li>下半年在 AWS 成本的分析与管控上花了很多精力，也有了一些不错的成果，受益匪浅</li>
<li>学会了 Nginx 的简单使用，刚好够用于维护公司先有的 Nginx 代理配置</li>
</ul>
</li>
<li>主导完成了「新建 K8s 集群，将服务迁移到新集群」。虽然并不是一件很难的事，但这应该算是我 2021 年最大的成就了。
<ul>
<li>升级过程中也是遇到了各种问题，第一次升级迁移时我准备了好久，慌的不行，结果升级时部分服务还是出了问题，当时脑子真的是个懵的，跟 leader 搞到 1 点多后还是没解决，回退到了旧集群，升级失败。之后通过测试确认到是某个服务扩缩容震荡导致可用率无法恢复，尝试通过 HPA 的 behavior 来控制扩缩容速率，又意外触发了 K8s HPA 的 bug 把集群控制面搞崩了&hellip; 再之后把问题都确认了，第二次尝试升级，又是有个别服务可用率抖动，调试了好几天。那几天神经一直紧绷，每天早上都是被服务可用率的告警吵醒的。跨年的那天晚上业务量上涨，我就在观察服务可用率的过程中跨年了。这样才终于完成了 K8s 集群的升级，期间各位同事也有参与帮忙分析排查各种问题，非常感谢他们，还有努力的我自己。</li>
</ul>
</li>
<li>随便写了几个 go 的 demo，基本没啥进步</li>
<li>学了一个星期的 rust 语言，快速看完了 the book，用 rust 重写了个 video2chars</li>
<li>学习了 Linux 容器的底层原理：cgroups/namespace 技术，并且用 go/rust 实现了个 demo</li>
<li>学习了 Linux 的各种网络接口、Iptables</li>
<li>熟悉了 PromQL/Grafana，现在也能拷贝些 PromQL 查各种数据了</li>
</ul>
<p>If I give myself a score, it&rsquo;s &ldquo;good&rdquo;. Because I am not very enterprising, so the result can not be called &ldquo;excellent&rdquo;.</p>
<p>By the way, the new office of Mobiuspace is really great. See my twitter for details：</p>
<blockquote class="twitter-tweet"><p lang="zh" dir="ltr">新办公区真好呐～<br><br>值此良辰美景，好想整个榻榻米坐垫，坐在角落的落地窗边工作🤣<br>那种使用公共设施工（mo）作（yu）的乐趣，以及平常工位见不到的景色交相辉映，是不太好表述的奇妙体验 <a href="https://t.co/FASffzw8N3">pic.twitter.com/FASffzw8N3</a></p>&mdash; ryan4yin | 於清樂 (@ryan4yin) <a href="https://twitter.com/ryan4yin/status/1482891448731070466?ref_src=twsrc%5Etfw">January 17, 2022</a></blockquote> <script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script> 
<h2 id="a-sense-of-technology">A Sense of Technology</h2>
<ul>
<li>Istio 服务网格：体会到了它有点重，而且它的发展跟我们的需求不一定匹配
<ul>
<li>Sidecar 模式的成本比较高，在未调优的情况下，它会给服务带来 1/3 到 1/4 的成本提升，以及延迟上升</li>
<li>比如切量权重固定为 100（新版本将会放宽限制），不支持 pod 的 warm up（社区已经有 PR，持续观望吧）</li>
<li>而它重点发展的虚拟机支持我们却完全不需要</li>
<li>一直在思考是持续往 Istio 投入，还是换其他的方案</li>
</ul>
</li>
<li>服务网格仍然在快速发展，未来的趋势应该是 eBPF + Envoy + WASM
<ul>
<li>Cilium 推出的基于 eBPF 的 Service Mesh 是一个新趋势（它使用高级特性时会退化成 Per Node Proxy 模式），成本、延迟方面都有望吊打 Sidecar 模式的其他服务网格，是今年服务网格领域的大新闻。</li>
<li>我们曾尝试使用中心化网关来替代 Sidecar 以降低成本。但是跨区流量成本、HTTP/gRPC 多协议共存，这些都是挑战。而且这也并不是社区的最佳实践，现在我觉得维持 Sidecar 其实反而能提升资源利用率，我们的集群资源利用率目前很低。如果能把控好，这部分成本或许是可以接受的。</li>
</ul>
</li>
<li>K8s 集群的日志方面，我们目前是使用自研的基于 gelf 协议的系统，但是问题挺多的
<ul>
<li>从提升系统的可维护性、易用性等角度来说，loki 是值得探索下的</li>
</ul>
</li>
<li>K8s 集群管理方面，觉得集群的升级迭代，可以做得更自动化、更可靠。明年可以在多集群管理这个方向上多探索下。</li>
<li><a href="https://kubernetes.io/docs/tasks/configure-pod-container/quality-service-pod/" target="_blank" rel="noopener noreferrer">Pod 服务质量</a>：对非核心服务，可以适当调低 requests 的资源量，而不是完全预留(<code>Guaranteed</code>)，以提升资源利用率。</li>
<li>官方的 HPA 能力是不够用的，业务侧可能会需要基于 QPS/Queue 或者业务侧的其他参数来进行扩缩容，需要持续关注 <a href="https://github.com/kedacore/keda" target="_blank" rel="noopener noreferrer">KEDA</a> 这个项目。</li>
<li>成本控制方面，体会到了 ARM 架构以及 Spot 竞价实例的好处</li>
<li>跨区流量成本有很大的潜在优化空间
<ul>
<li>跨区流量成本是在两边都会收费，而且不仅涉及 Kubernetes 集群内服务间的调用，还会涉及对 RDS/ES/ElastiCache/EC2 等其他资源的调用。</li>
</ul>
</li>
<li>今年各云厂商故障频发，没有<strong>跨 region 的服务迁移</strong>就会很难受，需要持续关注下 <a href="https://github.com/karmada-io/karmada" target="_blank" rel="noopener noreferrer">karmada</a> 这类多集群管理方案。
<ul>
<li>Google 账号系统宕机</li>
<li>Fastly CDN 故障</li>
<li>Facebook 故障</li>
<li>AWS 更是各种可用区故障，12/7 的故障导致 AWS 大部分服务都崩了。因此我们 SRE 今年经常是救各种大火小火&hellip;</li>
</ul>
</li>
<li>Rust/Go/WASM 蓬勃发展，未来可期。</li>
<li>AI 落地到各个领域，影响到了我们日常使用的语音导航、歌声合成、语音合成等多个领域，当然也包括与 SRE 工作相关的场景：AIOps</li>
</ul>
<h2 id="prospects-of-2022">Prospects of 2022</h2>
<h3 id="on-the-side-of-technology">On the Side of Technology</h3>
<p>今年的展望写得更聚焦一些，争取能实现 50%，就是很大的突破了。</p>
<ol>
<li>熟练掌握 Go/Rust 语言，并分别用于至少两个项目中
<ol>
<li>打铁还需自身硬，编码能力是基础中的基础。</li>
</ol>
</li>
<li>深入学习如下技术
<ol>
<li>Kubernetes 源码</li>
</ol>
</li>
<li>网络技术
<ol>
<li>服务网格 Istio</li>
<li>代理工具 Envoy/APISIX</li>
<li>网络插件 Cilium + eBPF</li>
</ol>
</li>
<li>AWS K8s 成本与服务稳定性优化
<ol>
<li>节约跨可用区/跨域的流量成本</li>
<li>K8s 新特性：<a href="https://kubernetes.io/docs/concepts/services-networking/topology-aware-hints/" target="_blank" rel="noopener noreferrer">Topology Aware Hints</a></li>
<li>Istio: <a href="https://istio.io/latest/docs/tasks/traffic-management/locality-load-balancing/" target="_blank" rel="noopener noreferrer">Locality Load Balancing</a></li>
<li>实例类型优化：
<ol>
<li>使用更合适的实例类型</li>
<li>使用 ARM 架构机型，降本增效</li>
</ol>
</li>
<li>推广 GRPC 协议</li>
</ol>
</li>
<li>打通本地开发环境与云上的运行环境：
<ol>
<li><a href="https://github.com/nocalhost/nocalhost" target="_blank" rel="noopener noreferrer">nocalhost</a></li>
</ol>
</li>
<li>探索新技术与可能性（优先级低）
<ol>
<li>基于 Kubernetes 的服务平台，未来的发展方向
<ol>
<li>kubevela</li>
<li>buildpack</li>
<li>是否应该推进 gitops</li>
<li>openkruise</li>
</ol>
</li>
<li>Serverless 平台的进展
<ol>
<li>Knative</li>
<li>OpenFunction</li>
</ol>
</li>
<li>跨集群的应用部署、容灾
<ol>
<li>karmada</li>
</ol>
</li>
<li>机器学习、深度学习技术：想尝试下将 AI 应用在音乐、语音、SRE 等我感兴趣的领域，即使是调包也行啊，总之想出点成果&hellip;</li>
</ol>
</li>
</ol>
<p>可以预料到明年 SRE 团队有超多的机会，这其中我具体能负责哪些部分，又能做出怎样的成果，真的相当期待~</p>
<h2 id="on-the-side-of-life">On the Side of Life</h2>
<ul>
<li>运动：
<ul>
<li>把轮滑练好，学会点花样吧，每个月至少两次。</li>
<li>进行三次以上的次短途旅行，东西冲穿越可以再来一次。</li>
</ul>
</li>
<li>音乐：
<ul>
<li>再一次学习乐理&hellip;</li>
<li>midi 键盘买了一直吃灰，多多练习吧</li>
<li>买了个 Synthesizer V  Stduio Pro + 「青溯 AI」，新的一年想学下调教，翻唱些自己喜欢的歌。</li>
</ul>
</li>
<li>阅读：清单如下，一个月至少读完其中一本。
<ul>
<li>文学类：
<ul>
<li>《人间失格》：久仰大名的一本书，曾经有同学力荐，但是一直没看。</li>
<li>《生命最后的读书会》：或许曾经看过，但是一点印象都没了</li>
<li>《百年孤独》：高中的时候读过一遍，但是都忘差不多了</li>
<li>《霍乱时期的爱情》</li>
<li>《苏菲的世界》：据说是哲学启蒙读物，曾经看过，但是对内容完全没印象了。</li>
<li>《你一生的故事》：我也曾是个科幻迷</li>
<li>《沈从文的后半生》</li>
<li>《我与地坛》</li>
<li>《将饮茶》</li>
<li>《吾国与吾民 - 林语堂》</li>
<li>《房思琪的初恋乐园》</li>
</ul>
</li>
<li>人文社科
<ul>
<li>《在生命的尽头拥抱你-临终关怀医生手记》：今年想更多地了解下「死亡」</li>
<li>《怎样征服美丽少女》：哈哈</li>
<li>《爱的艺术》</li>
<li>《社会心理学》</li>
<li>《被讨厌的勇气》</li>
<li>《人体简史》</li>
<li>《科学革命的结构》</li>
<li>《邓小平时代》</li>
<li>《论中国》</li>
<li>《刘擎西方现代思想讲义》</li>
<li>《时间的秩序》</li>
<li>《极简宇宙史》</li>
<li>《圆圈正义-作为自由前提的信念》</li>
<li>《人生脚本》</li>
</ul>
</li>
<li>技术类
<ul>
<li>《复杂》</li>
<li>《SRE - Google 运维解密》</li>
<li>《凤凰项目：一个 IT 运维的传奇故事》</li>
<li>《人月神话》</li>
<li>《绩效使能：超越 OKR》</li>
<li>《奈飞文化手册》</li>
<li>《幕后产品-打造突破式思维》</li>
<li>《深入 Linux 内核架构》</li>
<li>《Linux/UNIX 系统编程手册》</li>
<li>《重构 - 改善既有代码的设计》</li>
<li>《网络是怎样连接的》：曾经学习过《计算机网络：自顶向下方法》，不过只学到网络层。就从这本书开始重新学习吧。</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="in-summary">In Summary</h2>
<p>2021 年初朋友与我给自己的期许是「拆破玉笼飞彩凤，顿开金锁走蛟龙」，感觉确实应验了。</p>
<p>今年我希望不论是在生活上还是在工作上，都能「更上层楼」~</p>
<blockquote>
<p>更多有趣的、有深度的 2021 年度总结：<a href="https://github.com/saveweb/review-2021">https://github.com/saveweb/review-2021</a></p>
</blockquote>
]]></description></item></channel></rss>